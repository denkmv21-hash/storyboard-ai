# üöÄ –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ VPS Beget ‚Äî –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- VPS —Ç–∞—Ä–∏—Ñ –æ—Ç Beget (–º–∏–Ω–∏–º—É–º 2 GB RAM, 2 CPU)
- –î–æ–º–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- SSH –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É
- –ë–∞–∑–æ–≤—ã–µ –∑–Ω–∞–Ω–∏—è Linux

---

## üì¶ –≠—Ç–∞–ø 1: –ó–∞–∫–∞–∑ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ VPS –Ω–∞ Beget

### –®–∞–≥ 1.1: –ó–∞–∫–∞–∑ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

1. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ https://beget.com
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **"VPS"**
3. –ù–∞–∂–º–∏—Ç–µ **"–ó–∞–∫–∞–∑–∞—Ç—å VPS"**
4. –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

```
–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Storyboard AI:

‚úÖ CPU: 2 —è–¥—Ä–∞
‚úÖ RAM: 2 GB (–º–∏–Ω–∏–º—É–º)
‚úÖ SSD: 20 GB
‚úÖ –û–°: Ubuntu 22.04 LTS
‚úÖ Root-–¥–æ—Å—Ç—É–ø: –≤–∫–ª—é—á—ë–Ω
```

5. –û–ø–ª–∞—Ç–∏—Ç–µ —Ç–∞—Ä–∏—Ñ (‚âà350-500 —Ä—É–±/–º–µ—Å)
6. –î–æ–∂–¥–∏—Ç–µ—Å—å –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ (5-15 –º–∏–Ω—É—Ç)

### –®–∞–≥ 1.2: –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ü–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ VPS –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:

```
IP-–∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞: xxx.xxx.xxx.xxx
–õ–æ–≥–∏–Ω: root
–ü–∞—Ä–æ–ª—å: ******** (–ø—Ä–∏–¥—ë—Ç –Ω–∞ email)
```

---

## üîê –≠—Ç–∞–ø 2: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É –ø–æ SSH

### –®–∞–≥ 2.1: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å Windows

**–í–∞—Ä–∏–∞–Ω—Ç A: PowerShell**
```powershell
ssh root@xxx.xxx.xxx.xxx
```

**–í–∞—Ä–∏–∞–Ω—Ç B: PuTTY**
1. –°–∫–∞—á–∞–π—Ç–µ PuTTY: https://www.putty.org
2. –í –ø–æ–ª–µ "Host Name": `xxx.xxx.xxx.xxx`
3. Port: `22`
4. –ù–∞–∂–º–∏—Ç–µ "Open"
5. –í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω: `root`
6. –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å

**–í–∞—Ä–∏–∞–Ω—Ç C: Termius (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Termius: https://termius.com
2. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π —Ö–æ—Å—Ç
3. –í–≤–µ–¥–∏—Ç–µ IP, –ª–æ–≥–∏–Ω, –ø–∞—Ä–æ–ª—å
4. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å

### –®–∞–≥ 2.2: –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)

```bash
passwd
```

–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å (–º–∏–Ω–∏–º—É–º 12 —Å–∏–º–≤–æ–ª–æ–≤).

### –®–∞–≥ 2.3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

```bash
apt update && apt upgrade -y
```

---

## üõ†Ô∏è –≠—Ç–∞–ø 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –ü–û

### –®–∞–≥ 3.1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js 20.x

```bash
# –°–∫–∞—á–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏
curl -fsSL https://deb.nodesource.com/setup_20.x | bash -

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js
apt install -y nodejs

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é
node -v  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å v20.x.x
npm -v   # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 10.x.x
```

### –®–∞–≥ 3.2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python 3.11

```bash
# –û–±–Ω–æ–≤–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
apt update

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
apt install -y python3.11 python3.11-venv python3.11-dev python3-pip

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é
python3.11 --version  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 3.11.x
```

### –®–∞–≥ 3.3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Redis

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Redis
apt install -y redis-server

# –í–∫–ª—é—á–∏—Ç–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
systemctl enable redis
systemctl start redis

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
systemctl status redis

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
redis-cli ping  # –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: PONG
```

### –®–∞–≥ 3.4: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Git

```bash
apt install -y git
git --version
```

### –®–∞–≥ 3.5: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Nginx

```bash
apt install -y nginx
systemctl enable nginx
systemctl start nginx
systemctl status nginx
```

### –®–∞–≥ 3.6: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Certbot (–¥–ª—è SSL)

```bash
apt install -y certbot python3-certbot-nginx
```

---

## üìÅ –≠—Ç–∞–ø 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –®–∞–≥ 4.1: –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
adduser storyboard

# –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
su - storyboard
```

### –®–∞–≥ 4.2: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–¥ –Ω–∞ GitHub
# –ó–∞—Ç–µ–º –∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ
cd /home/storyboard
git clone https://github.com/–≤–∞—à-username/storyboard-ai.git
cd storyboard-ai
```

### –®–∞–≥ 4.3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
npm install

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ API
cd apps/api
npm install
npm run build
cd ../..

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Web
cd apps/web
npm install
npm run build
cd ../..
```

### –®–∞–≥ 4.4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Python workers

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é workers
cd apps/workers

# –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3.11 -m venv venv

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r pyproject.toml

# –î–µ–∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
deactivate

cd ../..
```

---

## üîß –≠—Ç–∞–ø 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –®–∞–≥ 5.1: –°–æ–∑–¥–∞–Ω–∏–µ .env.local

```bash
cd /home/storyboard/storyboard-ai
nano .env.local
```

### –®–∞–≥ 5.2: –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–∞–π–ª

```env
# ===========================================
# SUPABASE
# ===========================================
NEXT_PUBLIC_SUPABASE_URL=https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=–≤–∞—à-anon-–∫–ª—é—á
SUPABASE_SERVICE_ROLE_KEY=–≤–∞—à-service-role-–∫–ª—é—á

# ===========================================
# AI SERVICES
# ===========================================
REPLICATE_API_KEY=r8_–≤–∞—à-–∫–ª—é—á
OPENAI_API_KEY=sk-–≤–∞—à-–∫–ª—é—á

# ===========================================
# STRIPE (–¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π)
# ===========================================
STRIPE_SECRET_KEY=sk_test_–≤–∞—à-–∫–ª—é—á
STRIPE_PUBLISHABLE_KEY=pk_test_–≤–∞—à-–∫–ª—é—á
STRIPE_WEBHOOK_SECRET=whsec_–≤–∞—à-—Å–µ–∫—Ä–µ—Ç

# ===========================================
# REDIS
# ===========================================
REDIS_URL=redis://localhost:6379

# ===========================================
# APPLICATION
# ===========================================
NODE_ENV=production
NEXT_PUBLIC_APP_URL=https://–≤–∞—à-–¥–æ–º–µ–Ω.ru
NEXT_PUBLIC_API_URL=https://api.–≤–∞—à-–¥–æ–º–µ–Ω.ru

API_PORT=4000
API_URL=http://localhost:4000
WORKERS_URL=http://localhost:8000
JWT_SECRET=—Å–ª—É—á–∞–π–Ω–∞—è-—Å—Ç—Ä–æ–∫–∞-–º–∏–Ω–∏–º—É–º-64-—Å–∏–º–≤–æ–ª–∞-–¥–ª—è-–ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

# ===========================================
# LIMITS
# ===========================================
MAX_FILE_SIZE_MB=10
MAX_SCENES_PER_PROJECT=100
MAX_CONCURRENT_GENERATIONS=3

# ===========================================
# DEBUG
# ===========================================
DEBUG_AI=false
LOG_LEVEL=info
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ**: Ctrl+O, Enter, Ctrl+X

### –®–∞–≥ 5.3: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è JWT_SECRET

```bash
# –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç—Ä–æ–∫—É
openssl rand -base64 48
```

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—ã–≤–æ–¥ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ `JWT_SECRET`.

---

## üöÄ –≠—Ç–∞–ø 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ systemd —Å–µ—Ä–≤–∏—Å–æ–≤

### –®–∞–≥ 6.1: –°–µ—Ä–≤–∏—Å –¥–ª—è API

```bash
nano /etc/systemd/system/storyboard-api.service
```

–í—Å—Ç–∞–≤—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ:

```ini
[Unit]
Description=Storyboard AI API
After=network.target redis.service

[Service]
Type=simple
User=storyboard
WorkingDirectory=/home/storyboard/storyboard-ai/apps/api
ExecStart=/usr/bin/node dist/index.js
Restart=on-failure
RestartSec=10
Environment=NODE_ENV=production
EnvironmentFile=/home/storyboard/storyboard-ai/.env.local

# Security
NoNewPrivileges=true
PrivateTmp=true

[Install]
WantedBy=multi-user.target
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ**: Ctrl+O, Enter, Ctrl+X

### –®–∞–≥ 6.2: –°–µ—Ä–≤–∏—Å –¥–ª—è Web (Next.js)

```bash
nano /etc/systemd/system/storyboard-web.service
```

–í—Å—Ç–∞–≤—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ:

```ini
[Unit]
Description=Storyboard AI Web Frontend
After=network.target storyboard-api.service

[Service]
Type=simple
User=storyboard
WorkingDirectory=/home/storyboard/storyboard-ai/apps/web
ExecStart=/usr/bin/npm run start
Restart=on-failure
RestartSec=10
Environment=NODE_ENV=production
EnvironmentFile=/home/storyboard/storyboard-ai/.env.local

# Security
NoNewPrivileges=true
PrivateTmp=true

[Install]
WantedBy=multi-user.target
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ**: Ctrl+O, Enter, Ctrl+X

### –®–∞–≥ 6.3: –°–µ—Ä–≤–∏—Å –¥–ª—è AI Workers

```bash
nano /etc/systemd/system/storyboard-workers.service
```

–í—Å—Ç–∞–≤—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ:

```ini
[Unit]
Description=Storyboard AI Workers
After=network.target redis.service

[Service]
Type=simple
User=storyboard
WorkingDirectory=/home/storyboard/storyboard-ai/apps/workers
ExecStart=/home/storyboard/storyboard-ai/apps/workers/venv/bin/python -m uvicorn src.main:app --host 0.0.0.0 --port 8000
Restart=on-failure
RestartSec=10
EnvironmentFile=/home/storyboard/storyboard-ai/.env.local

# Security
NoNewPrivileges=true
PrivateTmp=true

[Install]
WantedBy=multi-user.target
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ**: Ctrl+O, Enter, Ctrl+X

### –®–∞–≥ 6.4: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ systemd
systemctl daemon-reload

# –í–∫–ª—é—á–∏—Ç–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
systemctl enable storyboard-api
systemctl enable storyboard-web
systemctl enable storyboard-workers

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã
systemctl start storyboard-api
systemctl start storyboard-web
systemctl start storyboard-workers

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
systemctl status storyboard-api
systemctl status storyboard-web
systemctl status storyboard-workers
```

---

## üåê –≠—Ç–∞–ø 7: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx

### –®–∞–≥ 7.1: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è API

```bash
nano /etc/nginx/sites-available/api.–≤–∞—à-–¥–æ–º–µ–Ω.ru
```

–í—Å—Ç–∞–≤—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ:

```nginx
server {
    listen 80;
    server_name api.–≤–∞—à-–¥–æ–º–µ–Ω.ru;

    location / {
        proxy_pass http://localhost:4000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }
}
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ**: Ctrl+O, Enter, Ctrl+X

### –®–∞–≥ 7.2: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Web

```bash
nano /etc/nginx/sites-available/–≤–∞—à-–¥–æ–º–µ–Ω.ru
```

–í—Å—Ç–∞–≤—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ:

```nginx
server {
    listen 80;
    server_name –≤–∞—à-–¥–æ–º–µ–Ω.ru www.–≤–∞—à-–¥–æ–º–µ–Ω.ru;

    client_max_body_size 10M;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }

    location /_next/static {
        proxy_pass http://localhost:3000;
        proxy_cache_valid 60m;
        add_header Cache-Control "public, max-age=31536000, immutable";
    }
}
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ**: Ctrl+O, Enter, Ctrl+X

### –®–∞–≥ 7.3: –í–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏
ln -s /etc/nginx/sites-available/api.–≤–∞—à-–¥–æ–º–µ–Ω.ru /etc/nginx/sites-enabled/
ln -s /etc/nginx/sites-available/–≤–∞—à-–¥–æ–º–µ–Ω.ru /etc/nginx/sites-enabled/

# –£–¥–∞–ª–∏—Ç–µ –¥–µ—Ñ–æ–ª—Ç–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
rm /etc/nginx/sites-enabled/default

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
nginx -t

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Nginx
systemctl restart nginx
```

---

## üîí –≠—Ç–∞–ø 8: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL (HTTPS)

### –®–∞–≥ 8.1: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

```bash
# –î–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞
certbot --nginx -d –≤–∞—à-–¥–æ–º–µ–Ω.ru -d www.–≤–∞—à-–¥–æ–º–µ–Ω.ru

# –î–ª—è API –ø–æ–¥–¥–æ–º–µ–Ω–∞
certbot --nginx -d api.–≤–∞—à-–¥–æ–º–µ–Ω.ru
```

### –®–∞–≥ 8.2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

Certbot –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç cron –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤.

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
```bash
certbot renew --dry-run
```

---

## üõ°Ô∏è –≠—Ç–∞–ø 9: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–µ—Ä–≤–æ–ª–∞

### –®–∞–≥ 9.1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ UFW

```bash
apt install -y ufw
```

### –®–∞–≥ 9.2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤–∏–ª

```bash
# –†–∞–∑—Ä–µ—à–∏—Ç–µ SSH
ufw allow OpenSSH

# –†–∞–∑—Ä–µ—à–∏—Ç–µ HTTP/HTTPS
ufw allow 'Nginx Full'

# –í–∫–ª—é—á–∏—Ç–µ —Ñ–∞–µ—Ä–≤–æ–ª
ufw enable

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
ufw status
```

---

## ‚úÖ –≠—Ç–∞–ø 10: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –®–∞–≥ 10.1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å active (running)
systemctl status storyboard-api
systemctl status storyboard-web
systemctl status storyboard-workers
systemctl status nginx
systemctl status redis
```

### –®–∞–≥ 10.2: –ü—Ä–æ–≤–µ—Ä–∫–∞ endpoints

```bash
# API health check
curl http://localhost:4000/health

# Web frontend
curl http://localhost:3000
```

### –®–∞–≥ 10.3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
- https://–≤–∞—à-–¥–æ–º–µ–Ω.ru
- https://api.–≤–∞—à-–¥–æ–º–µ–Ω.ru/health

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# API –ª–æ–≥–∏
journalctl -u storyboard-api -f

# Web –ª–æ–≥–∏
journalctl -u storyboard-web -f

# Workers –ª–æ–≥–∏
journalctl -u storyboard-workers -f

# Nginx –ª–æ–≥–∏
tail -f /var/log/nginx/access.log
tail -f /var/log/nginx/error.log
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å
systemctl restart storyboard-api

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ
systemctl restart storyboard-api storyboard-web storyboard-workers
```

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /home/storyboard/storyboard-ai

# –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è storyboard
su - storyboard

# –ü–æ—Ç—è–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git pull

# –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ
npm run build

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã
exit  # –≤—ã–π—Ç–∏ –∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è storyboard
systemctl restart storyboard-api
systemctl restart storyboard-web
systemctl restart storyboard-workers
```

---

## ‚ö†Ô∏è –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –°–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
journalctl -u storyboard-api -f

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
cat /home/storyboard/storyboard-ai/.env.local
```

### –û—à–∏–±–∫–∞ "Cannot find module"

```bash
# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
cd /home/storyboard/storyboard-ai/apps/api
rm -rf node_modules
npm install
npm run build
systemctl restart storyboard-api
```

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Redis

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å Redis
systemctl status redis

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Redis
systemctl restart redis
```

### Nginx –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 502 Bad Gateway

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã
systemctl status storyboard-api
systemctl status storyboard-web

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Nginx
tail -f /var/log/nginx/error.log
```

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å –Ω–∞ Beget

| –¢–∞—Ä–∏—Ñ | CPU | RAM | SSD | –¶–µ–Ω–∞/–º–µ—Å |
|-------|-----|-----|-----|----------|
| VPS 1 | 1 —è–¥—Ä–æ | 1 GB | 15 GB | ‚âà250 —Ä—É–± |
| VPS 2 | 2 —è–¥—Ä–∞ | 2 GB | 25 GB | ‚âà450 —Ä—É–± ‚úÖ |
| VPS 3 | 3 —è–¥—Ä–∞ | 3 GB | 35 GB | ‚âà650 —Ä—É–± |

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è**: VPS 2 (2 —è–¥—Ä–∞, 2 GB RAM)

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Beget

- –¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞: https://beget.com/support
- –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π: https://beget.com/kb
- Telegram: @beget_com

---

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç

- [ ] VPS –∑–∞–∫–∞–∑–∞–Ω –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
- [ ] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ SSH —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Node.js 20.x —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] Python 3.11 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] Redis —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω
- [ ] Nginx —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –ü—Ä–æ–µ–∫—Ç —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω
- [ ] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] .env.local –∑–∞–ø–æ–ª–Ω–µ–Ω
- [ ] Systemd —Å–µ—Ä–≤–∏—Å—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –∑–∞–ø—É—â–µ–Ω—ã
- [ ] Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –ø–æ–ª—É—á–µ–Ω—ã
- [ ] –§–∞–µ—Ä–≤–æ–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –°–∞–π—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ HTTPS
- [ ] API health check —Ä–∞–±–æ—Ç–∞–µ—Ç

---

**–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π!

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 20 —Ñ–µ–≤—Ä–∞–ª—è 2026*
