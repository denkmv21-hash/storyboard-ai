# ğŸ¬ Storyboard AI â€” Kilo Code Instructions

## âš ï¸ Ğ’ĞĞ–ĞĞ: ĞŸĞ•Ğ Ğ•Ğ” ĞĞĞ§ĞĞ›ĞĞœ Ğ ĞĞ‘ĞĞ¢Ğ«

**ĞĞ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ Ğ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ¹ ÑÑ‚Ğ¸ Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ² Ğ½Ğ°Ñ‡Ğ°Ğ»Ğµ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¹ ÑĞµÑÑĞ¸Ğ¸:**

1. **`.kilocode/PROJECT_DOCUMENTATION.md`** â€” Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ°Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğµ, Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸, Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°
2. **`DANIMAK ANIMATION STUDIO.md`** (Ğ² ĞºĞ¾Ñ€Ğ½Ğµ) â€” Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸ DANIMAK

### ğŸ”‘ ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°:
- **ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚:** DANIMAK ANIMATION STUDIO â€” ÑĞ°Ğ¹Ñ‚ Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ğ¾Ğ¹ ÑÑ‚ÑƒĞ´Ğ¸Ğ¸ (danimak-studio.ru)
- **Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ ÑĞµÑ€Ğ²Ğ¸Ñ:** Storyboard AI â€” AI-ÑĞµÑ€Ğ²Ğ¸Ñ Ğ´Ğ»Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ñ€Ğ°ÑĞºĞ°Ğ´Ñ€Ğ¾Ğ²Ğ¾Ğº (Ğ²ÑÑ‚Ñ€Ğ¾ĞµĞ½ ĞºĞ°Ğº Ñ‡Ğ°ÑÑ‚ÑŒ ÑĞºĞ¾ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹)
- **Ğ›Ğ¾ĞºĞ°Ñ†Ğ¸Ñ:** ĞŸÑÑ‚Ğ¸Ğ³Ğ¾Ñ€ÑĞº, Ğ¡Ñ‚Ğ°Ğ²Ñ€Ğ¾Ğ¿Ğ¾Ğ»ÑŒÑĞºĞ¸Ğ¹ ĞºÑ€Ğ°Ğ¹
- **Ğ“Ğ¾Ğ´ Ğ¾ÑĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ:** 2020
- **Ğ”Ğ¸Ğ·Ğ°Ğ¹Ğ½:** Ğ¡Ğ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğ¹, Ñ Ğ³Ñ€Ğ°Ğ´Ğ¸ĞµĞ½Ñ‚Ğ°Ğ¼Ğ¸, Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸ÑĞ¼Ğ¸, Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹
- **Ğ¯Ğ·Ñ‹ĞºĞ¸:** ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹ (Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹) + ğŸ‡¬ğŸ‡§ ĞĞ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸Ğ¹

---

## Ğ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğµ
ĞœÑ‹ ÑĞ¾Ğ·Ğ´Ğ°Ñ‘Ğ¼ SaaS-ÑĞµÑ€Ğ²Ğ¸Ñ Ğ´Ğ»Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ñ€Ğ°ÑĞºĞ°Ğ´Ñ€Ğ¾Ğ²Ğ¾Ğº Ğ¸Ğ· ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸ĞµĞ² Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒÑ AI.
ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ñ„Ğ¸Ñ‡Ğ¸:
- Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ (FDX, PDF, TXT) â†’ JSON-ÑÑ†ĞµĞ½Ñ‹
- AI-Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹ Ñ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸ĞµĞ¼ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ¶ĞµĞ¹ (Character Consistency)
- Ğ ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ€Ğ°ĞºÑƒÑ€ÑĞ¾Ğ² Ğ¸ ÑÑ‚Ğ¸Ğ»ĞµĞ¹
- Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ² PDF/PNG/MP4
- ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸ + ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ½Ğ°Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° (Stripe)

## Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑÑ‚ĞµĞº
| Ğ¡Ğ»Ğ¾Ğ¹ | Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸ |
|------|-----------|
| Frontend | Next.js 14 App Router, TypeScript, Tailwind, shadcn/ui, Zustand |
| Backend API | Node.js + Express, Supabase (Auth + Postgres + Storage) |
| AI Workers | Python + FastAPI, Replicate API, OpenAI GPT-4o-mini |
| ĞÑ‡ĞµÑ€ĞµĞ´Ğ¸ | BullMQ + Redis |
| ĞŸĞ»Ğ°Ñ‚ĞµĞ¶Ğ¸ | Stripe (Ğ²ĞµĞ±Ñ…ÑƒĞºĞ¸ + Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸) |
| Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¹ | Vercel (Ñ„Ñ€Ğ¾Ğ½Ñ‚), Render/Railway (Ğ±ÑĞº), Modal (GPU) |

## Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```
storyboard-ai/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ api/                    # Backend API (Express)
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts        # Entry point
â”‚   â”‚   â”‚   â”œâ”€â”€ routes/         # API endpoints
â”‚   â”‚   â”‚   â”œâ”€â”€ middleware/     # Auth, logging, errors
â”‚   â”‚   â”‚   â”œâ”€â”€ lib/            # Supabase client
â”‚   â”‚   â”‚   â”œâ”€â”€ utils/          # Logger, errors
â”‚   â”‚   â”‚   â””â”€â”€ services/       # Business logic
â”‚   â”‚   â”œâ”€â”€ supabase/
â”‚   â”‚   â”‚   â””â”€â”€ schema.sql      # Database schema
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â”‚   â””â”€â”€ Dockerfile
â”‚   â”‚
â”‚   â”œâ”€â”€ web/                    # Frontend (Next.js)
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ app/            # Next.js pages
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ signup/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ projects/
â”‚   â”‚   â”‚   â”œâ”€â”€ components/     # React components
â”‚   â”‚   â”‚   â”œâ”€â”€ stores/         # Zustand stores
â”‚   â”‚   â”‚   â””â”€â”€ lib/            # Utils, API client
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ next.config.ts
â”‚   â”‚
â”‚   â””â”€â”€ workers/                # AI Workers (Python)
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ main.py         # FastAPI app
â”‚       â”‚   â”œâ”€â”€ config.py       # Settings
â”‚       â”‚   â”œâ”€â”€ worker.py       # Background worker
â”‚       â”‚   â”œâ”€â”€ routers/        # API endpoints
â”‚       â”‚   â””â”€â”€ services/       # AI services
â”‚       â”œâ”€â”€ pyproject.toml
â”‚       â””â”€â”€ Dockerfile
â”‚
â”œâ”€â”€ packages/
â”‚   â””â”€â”€ shared/                 # Shared types
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â””â”€â”€ index.ts        # Zod schemas
â”‚       â””â”€â”€ package.json
â”‚
â”œâ”€â”€ .kilocode/                  # Project docs
â”‚   â”œâ”€â”€ instructions.md
â”‚   â”œâ”€â”€ patterns.md
â”‚   â”œâ”€â”€ prompts.md
â”‚   â””â”€â”€ checklist.md
â”‚
â”œâ”€â”€ package.json                # Turborepo root
â”œâ”€â”€ turbo.json                  # Turborepo config
â”œâ”€â”€ .env.example
â”œâ”€â”€ .gitignore
â”œâ”€â”€ README.md
â””â”€â”€ DEVELOPMENT.md
```

## ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° ĞºĞ¾Ğ´Ğ°
1. **TypeScript ÑÑ‚Ñ€Ğ¾Ğ³Ğ¾** â€” Ğ½Ğ¸ĞºĞ°ĞºĞ¸Ñ… `any`, Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑ‹
2. **Server Components Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ** â€” Client Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ĞºĞ¾Ğ³Ğ´Ğ° Ğ½ÑƒĞ¶ĞµĞ½ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²
3. **Zod Ğ´Ğ»Ñ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ğ¸** â€” Ğ²ÑĞµ Ğ²Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ¸Ñ€ÑƒĞ¹ ÑÑ…ĞµĞ¼Ğ°Ğ¼Ğ¸
4. **ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº** â€” try/catch Ñ Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼, Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¸Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ
5. **Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ < 50 ÑÑ‚Ñ€Ğ¾Ğº** â€” ĞµÑĞ»Ğ¸ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ, Ğ²Ñ‹Ğ½Ğ¾ÑĞ¸ Ğ² Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹
6. **ĞšĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¸ Ğ½Ğ° Ñ€ÑƒÑÑĞºĞ¾Ğ¼** â€” Ğ´Ğ»Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸, Ğ½Ğ° Ğ°Ğ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¾Ğ¼ Ğ´Ğ»Ñ TODO

## AI-Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ
- Ğ’ÑĞµĞ³Ğ´Ğ° Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞ¹ ÑĞ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ´ Ğ¿ĞµÑ€ĞµĞ´ ĞºĞ¾Ğ¼Ğ¼Ğ¸Ñ‚Ğ¾Ğ¼
- Ğ›Ğ¾Ğ³Ğ¸Ñ€ÑƒĞ¹ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚Ñ‹ Ğº LLM Ğ² dev-Ñ€ĞµĞ¶Ğ¸Ğ¼Ğµ
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ feature flags Ğ´Ğ»Ñ ÑĞºÑĞ¿ĞµÑ€Ğ¸Ğ¼ĞµĞ½Ñ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ñ… Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹
- ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚: Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ â†’ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ â†’ Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾ â†’ ĞºÑ€Ğ°ÑĞ¸Ğ²Ğ¾

## Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ
- Ğ’ÑĞµ API: Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ÑĞµÑÑĞ¸Ğ¸ Ñ‡ĞµÑ€ĞµĞ· Supabase Auth
- Ğ¤Ğ°Ğ¹Ğ»Ñ‹: Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ñ‚Ğ¸Ğ¿Ğ° (MIME) Ğ¸ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ğ° (<10MB)
- AI-Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚Ñ‹: ÑĞ°Ğ½Ğ¸Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¾Ñ‚ injection
- Stripe: Ğ²ÑĞµĞ³Ğ´Ğ° Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞ¹ signature Ğ½Ğ° Ğ²ĞµĞ±Ñ…ÑƒĞºĞ°Ñ…

## Database Schema

### ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹

```sql
users
â”œâ”€â”€ id (UUID, PK)
â”œâ”€â”€ email (TEXT)
â”œâ”€â”€ name (TEXT)
â”œâ”€â”€ credits (INT)
â”œâ”€â”€ subscription_tier (ENUM)
â””â”€â”€ created_at, updated_at

projects
â”œâ”€â”€ id (UUID, PK)
â”œâ”€â”€ user_id (UUID, FK)
â”œâ”€â”€ title (VARCHAR)
â”œâ”€â”€ description (TEXT)
â”œâ”€â”€ thumbnail_url (TEXT)
â”œâ”€â”€ status (ENUM)
â””â”€â”€ created_at, updated_at

scenes
â”œâ”€â”€ id (UUID, PK)
â”œâ”€â”€ project_id (UUID, FK)
â”œâ”€â”€ scene_number (INT)
â”œâ”€â”€ title (VARCHAR)
â”œâ”€â”€ description (TEXT)
â”œâ”€â”€ image_url (TEXT)
â”œâ”€â”€ style (VARCHAR)
â”œâ”€â”€ camera_angle (VARCHAR)
â”œâ”€â”€ status (ENUM)
â””â”€â”€ created_at, updated_at

generation_jobs
â”œâ”€â”€ id (UUID, PK)
â”œâ”€â”€ scene_id (UUID, FK)
â”œâ”€â”€ user_id (UUID, FK)
â”œâ”€â”€ status (ENUM)
â”œâ”€â”€ prompt (TEXT)
â”œâ”€â”€ image_url (TEXT)
â””â”€â”€ created_at, completed_at

subscriptions
â”œâ”€â”€ id (UUID, PK)
â”œâ”€â”€ user_id (UUID, FK)
â”œâ”€â”€ stripe_subscription_id (TEXT)
â”œâ”€â”€ tier (ENUM)
â”œâ”€â”€ status (ENUM)
â””â”€â”€ current_period_end

credit_transactions
â”œâ”€â”€ id (UUID, PK)
â”œâ”€â”€ user_id (UUID, FK)
â”œâ”€â”€ amount (INT)
â”œâ”€â”€ type (ENUM)
â”œâ”€â”€ balance_after (INT)
â””â”€â”€ created_at
```

## API Endpoints

### Auth
- `POST /api/auth/signup` â€” Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ
- `POST /api/auth/login` â€” Ğ’Ñ…Ğ¾Ğ´
- `POST /api/auth/logout` â€” Ğ’Ñ‹Ñ…Ğ¾Ğ´
- `GET /api/auth/me` â€” Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ

### Projects
- `GET /api/projects` â€” Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¾Ğ²
- `POST /api/projects` â€” Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚
- `GET /api/projects/:id` â€” Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
- `PUT /api/projects/:id` â€” ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚
- `DELETE /api/projects/:id` â€” Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚

### Scenes
- `GET /api/scenes/project/:projectId` â€” Ğ¡Ñ†ĞµĞ½Ñ‹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
- `POST /api/scenes` â€” Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ ÑÑ†ĞµĞ½Ñƒ
- `PUT /api/scenes/:id` â€” ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ ÑÑ†ĞµĞ½Ñƒ
- `DELETE /api/scenes/:id` â€” Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ ÑÑ†ĞµĞ½Ñƒ

### Generation
- `POST /api/generation/image` â€” Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ
- `GET /api/generation/:jobId` â€” Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸
- `POST /api/generation/:jobId/regenerate` â€” ĞŸĞµÑ€ĞµĞ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ

### Scripts
- `POST /api/scripts/upload` â€” Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹
- `POST /api/scripts/:id/parse` â€” ĞŸĞ°Ñ€ÑĞ¸Ñ‚ÑŒ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹

### Subscriptions
- `GET /api/subscriptions/me` â€” Ğ¢ĞµĞºÑƒÑ‰Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ°
- `POST /api/subscriptions/checkout` â€” Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ checkout ÑĞµÑÑĞ¸Ñ
- `POST /api/subscriptions/webhook` â€” Stripe webhook

## Environment Variables

```env
# Supabase
SUPABASE_URL=
SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=

# AI
REPLICATE_API_KEY=
OPENAI_API_KEY=

# Stripe
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=

# Redis
REDIS_URL=redis://localhost:6379

# App
NEXT_PUBLIC_APP_URL=http://localhost:3000
API_URL=http://localhost:4000
JWT_SECRET=
```

## ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸

```bash
# Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹
npm install

# Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ²ÑĞµÑ… ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²
npm run dev

# Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ¿Ğ¾ Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸
cd apps/web && npm run dev      # Frontend :3000
cd apps/api && npm run dev      # Backend :4000
cd apps/workers && npm run dev  # Workers :8000

# Build
npm run build

# Ğ¢ĞµÑÑ‚Ñ‹
npm test

# Docker
docker-compose up -d
```

## Ğ§ĞµĞºĞ»Ğ¸ÑÑ‚ Ğ¿ĞµÑ€ĞµĞ´ ĞºĞ¾Ğ¼Ğ¼Ğ¸Ñ‚Ğ¾Ğ¼

Ğ¡Ğ¼Ğ¾Ñ‚Ñ€Ğ¸ `.kilocode/checklist.md`
